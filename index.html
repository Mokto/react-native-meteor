<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <title>react-native-meteor by inProgress-team</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>react-native-meteor</h1>
        <h2>Meteor Reactivity for your React Native application :)</h2>

        <section id="downloads">
          <a href="https://github.com/inProgress-team/react-native-meteor/zipball/master" class="btn">Download as .zip</a>
          <a href="https://github.com/inProgress-team/react-native-meteor/tarball/master" class="btn">Download as .tar.gz</a>
          <a href="https://github.com/inProgress-team/react-native-meteor" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <p><a href="https://badge.fury.io/gh/inProgress-team%2Freact-native-meteor"><img src="https://badge.fury.io/gh/inProgress-team%2Freact-native-meteor.svg" alt="GitHub version"></a>
<a href="http://badge.fury.io/js/react-native-meteor"><img src="https://badge.fury.io/js/react-native-meteor.svg" alt="npm version"></a>
<a href="https://david-dm.org/inProgress-team/react-native-meteor"><img src="https://david-dm.org/inProgress-team/react-native-meteor.svg" alt="Dependency Status"></a>
<a href="https://david-dm.org/inProgress-team/react-native-meteor#info=devDependencies"><img src="https://david-dm.org/inProgress-team/react-native-meteor/dev-status.svg" alt="devDependency Status"></a>
<a href="https://github.com/inProgress-team/react-native-meteor/blob/master/LICENSE"><img src="https://img.shields.io/dub/l/vibe-d.svg" alt="MIT"></a>
<a href="https://www.bithound.io/github/inProgress-Team/react-native-meteor"><img src="https://www.bithound.io/github/inProgress-Team/react-native-meteor/badges/score.svg" alt="bitHound Score"></a></p>

<h1>
<a id="react-native-meteor" class="anchor" href="#react-native-meteor" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>react-native-meteor</h1>

<p>Meteor-like methods for React Native. <strong>Currently in v1.0.0-beta14</strong> ! For old docs, see <a href="https://github.com/inProgress-team/react-native-meteor/tree/0.6.2">v0.6.2 documentation</a> (classic ddp interface).</p>

<h2>
<a id="what-is-it-for-" class="anchor" href="#what-is-it-for-" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>What is it for ?</h2>

<p>The purpose of this library is :</p>

<ul>
<li>to set up and maintain a ddp connection with a ddp server, freeing the developer from having to do it on their own.</li>
<li>be fully compatible with react-native and help react-native developers.</li>
<li><strong>to match with <a href="http://docs.meteor.com/">Meteor documentation</a> used with React.</strong></li>
</ul>

<h2>
<a id="install" class="anchor" href="#install" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Install</h2>

<pre><code>npm i --save react-native-meteor@latest
</code></pre>

<p><a href="https://github.com/inProgress-team/react-native-meteor/blob/master/docs/Install.md">!! See detailed installation guide</a></p>

<h2>
<a id="example-usage" class="anchor" href="#example-usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Example usage</h2>

<div class="highlight highlight-source-js"><pre>
<span class="pl-k">import</span> { <span class="pl-smi">View</span>, <span class="pl-smi">Text</span>, <span class="pl-smi">Component</span> } <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>react-native<span class="pl-pds">'</span></span>;
<span class="pl-k">import</span> <span class="pl-smi">Meteor</span>, { <span class="pl-smi">connectMeteor</span>, <span class="pl-smi">MeteorListView</span> } <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>react-native-meteor<span class="pl-pds">'</span></span>;

<span class="pl-c">/*</span>
<span class="pl-c">* Uses decorators (see detailed installation to activate it)</span>
<span class="pl-c">* Or use :</span>
<span class="pl-c"></span>
<span class="pl-c">  class Todos extends Component {</span>
<span class="pl-c">    ...</span>
<span class="pl-c">  }</span>
<span class="pl-c">  connectMeteor(Todos);</span>
<span class="pl-c">  export default Todos;</span>
<span class="pl-c"></span>
<span class="pl-c">*/</span>

@connectMeteor
<span class="pl-k">export</span> <span class="pl-v">default</span> <span class="pl-k">class</span> <span class="pl-en">App</span> <span class="pl-k">extends</span> <span class="pl-en">Component</span> {
  <span class="pl-en">componentWillMount</span>() {
    <span class="pl-k">const</span> <span class="pl-c1">url</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>http://192.168.X.X:3000/websocket<span class="pl-pds">'</span></span>;
    <span class="pl-smi">Meteor</span>.<span class="pl-en">connect</span>(url);
  }
  <span class="pl-en">startMeteorSubscriptions</span>() {
    <span class="pl-smi">Meteor</span>.<span class="pl-en">subscribe</span>(<span class="pl-s"><span class="pl-pds">'</span>todos<span class="pl-pds">'</span></span>);
    <span class="pl-smi">Meteor</span>.<span class="pl-en">subscribe</span>(<span class="pl-s"><span class="pl-pds">'</span>settings<span class="pl-pds">'</span></span>);
  }
  <span class="pl-en">getMeteorData</span>() {
    <span class="pl-k">return</span> {
      settings<span class="pl-k">:</span> <span class="pl-smi">Meteor</span>.<span class="pl-en">collection</span>(<span class="pl-s"><span class="pl-pds">'</span>settings<span class="pl-pds">'</span></span>).<span class="pl-en">findOne</span>()
    };
  }
  <span class="pl-en">renderRow</span>(<span class="pl-smi">todo</span>) {
    <span class="pl-k">return</span> (
      <span class="pl-k">&lt;</span><span class="pl-c1">Text</span><span class="pl-k">&gt;</span>{<span class="pl-smi">todo</span>.<span class="pl-c1">title</span>}<span class="pl-k">&lt;</span><span class="pl-k">/</span><span class="pl-c1">Text</span><span class="pl-k">&gt;</span>
    );
  }
  <span class="pl-en">render</span>() {
    <span class="pl-k">const</span> { <span class="pl-c1">settings</span> } <span class="pl-k">=</span> <span class="pl-v">this</span>.<span class="pl-c1">data</span>;

    <span class="pl-k">&lt;</span>View<span class="pl-k">&gt;</span>
      <span class="pl-k">&lt;</span><span class="pl-c1">Text</span><span class="pl-k">&gt;</span>{<span class="pl-smi">settings</span>.<span class="pl-c1">title</span>}<span class="pl-k">&lt;</span><span class="pl-k">/</span><span class="pl-c1">Text</span><span class="pl-k">&gt;</span>
        <span class="pl-k">&lt;</span>MeteorListView
          collection<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>todos<span class="pl-pds">"</span></span>
          selector<span class="pl-k">=</span>{{done<span class="pl-k">:</span> <span class="pl-c1">true</span>}}
          options<span class="pl-k">=</span>{{sort<span class="pl-k">:</span> {createdAt<span class="pl-k">:</span> <span class="pl-k">-</span><span class="pl-c1">1</span>}}}
          renderRow<span class="pl-k">=</span>{<span class="pl-v">this</span>.<span class="pl-smi">renderRow</span>}
        <span class="pl-k">/</span><span class="pl-k">&gt;</span>
    <span class="pl-k">&lt;</span><span class="pl-k">/</span>View<span class="pl-k">&gt;</span>

  }
}</pre></div>

<h1>
<a id="connectmeteor" class="anchor" href="#connectmeteor" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>connectMeteor</h1>

<h2>
<a id="startmeteorsubscriptions" class="anchor" href="#startmeteorsubscriptions" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>startMeteorSubscriptions</h2>

<p>Inside this method, you can create subscriptions (see below) when component is mounted. It will automatically unsubscribe if the component is unmounted.</p>

<h4>
<a id="meteorsubscribe" class="anchor" href="#meteorsubscribe" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><a href="http://docs.meteor.com/#/full/meteor_subscribe">Meteor.subscribe</a>
</h4>

<h5>
<a id="example-usage-1" class="anchor" href="#example-usage-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Example usage</h5>

<p>your server side:</p>

<div class="highlight highlight-source-js"><pre><span class="pl-smi">Meteor</span>.<span class="pl-en">publish</span>(<span class="pl-s"><span class="pl-pds">'</span>todos<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>(<span class="pl-smi">done</span>, <span class="pl-smi">options</span>){
    <span class="pl-k">return</span> <span class="pl-smi">Todos</span>.<span class="pl-c1">find</span>({ done<span class="pl-k">:</span> done }, options);
});</pre></div>

<p>your react-native client code:</p>

<div class="highlight highlight-source-js"><pre><span class="pl-c">//Meteor subscribe can be used like on meteor official site</span>
<span class="pl-smi">Meteor</span>.<span class="pl-en">subscribe</span>(<span class="pl-s"><span class="pl-pds">'</span>todos<span class="pl-pds">'</span></span>, <span class="pl-c1">true</span>, {limit<span class="pl-k">:</span> <span class="pl-c1">10</span>, sort<span class="pl-k">:</span> {createdAt<span class="pl-k">:</span> <span class="pl-k">-</span><span class="pl-c1">1</span>}});</pre></div>

<h2>
<a id="getmeteordata" class="anchor" href="#getmeteordata" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>getMeteorData</h2>

<p>Inside getMeteorData, you can access any Meteor reactive data source, which means :</p>

<ul>
<li>Meteor.collection(collectionName)

<ul>
<li><a href="http://docs.meteor.com/#/full/find">.find(selector, options)</a></li>
<li><a href="http://docs.meteor.com/#/full/findone">.findOne(selector, options)</a></li>
</ul>
</li>
<li><a href="http://docs.meteor.com/#/full/meteor_user">Meteor.user()</a></li>
<li><a href="http://docs.meteor.com/#/full/meteor_userid">Meteor.userId()</a></li>
<li><a href="http://docs.meteor.com/#/full/meteor_status">Meteor.status()</a></li>
<li><a href="http://docs.meteor.com/#/full/meteor_loggingin">Meteor.loggingIn()</a></li>
</ul>

<h1>
<a id="additionals-collection-methods" class="anchor" href="#additionals-collection-methods" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Additionals collection methods</h1>

<ul>
<li>Meteor.collection(collectionName)

<ul>
<li><a href="http://docs.meteor.com/#/full/insert">.insert(doc, callback)</a></li>
<li>
<a href="http://docs.meteor.com/#/full/update">.update(id, modifier, [options], [callback])</a> (not implemented yet)</li>
<li>
<a href="http://docs.meteor.com/#/full/upsert">.upsert(id, modifier, [options], [callback])</a> (not implemented yet)</li>
<li><a href="http://docs.meteor.com/#/full/remove">.remove(id, callback(err, countRemoved))</a></li>
</ul>
</li>
</ul>

<h1>
<a id="meteorlistview-component" class="anchor" href="#meteorlistview-component" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>MeteorListView Component</h1>

<p>Same as <a href="https://facebook.github.io/react-native/docs/listview.html">ListView</a> Component but does not need dataSource and accepts three arguments :</p>

<ul>
<li>
<code>collection</code> <strong>string</strong> <em>required</em>
</li>
<li>
<code>selector</code> [<strong>string</strong> / <strong>object</strong>]</li>
<li>
<code>url</code> <strong>object</strong>
</li>
</ul>

<h3>
<a id="example-usage-2" class="anchor" href="#example-usage-2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Example usage</h3>

<div class="highlight highlight-source-js"><pre><span class="pl-k">&lt;</span>MeteorListView
  collection<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>todos<span class="pl-pds">"</span></span>
  selector<span class="pl-k">=</span>{{done<span class="pl-k">:</span> <span class="pl-c1">true</span>}}
  options<span class="pl-k">=</span>{{sort<span class="pl-k">:</span> {createdAt<span class="pl-k">:</span> <span class="pl-k">-</span><span class="pl-c1">1</span>}}}
  renderItem<span class="pl-k">=</span>{<span class="pl-v">this</span>.<span class="pl-smi">renderItem</span>}
<span class="pl-k">/</span><span class="pl-k">&gt;</span></pre></div>

<h1>
<a id="api" class="anchor" href="#api" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>API</h1>

<h2>
<a id="meteorconnectendpoint-options" class="anchor" href="#meteorconnectendpoint-options" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Meteor.connect(endpoint, options)</h2>

<p>Connect to a DDP server. You only have to do this once in your app.</p>

<h4>
<a id="arguments" class="anchor" href="#arguments" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Arguments</h4>

<ul>
<li>
<code>url</code> <strong>string</strong> <em>required</em>
</li>
<li>
<code>options</code> <strong>object</strong> Available options are :

<ul>
<li>autoConnect <strong>boolean</strong> [true] whether to establish the connection to the server upon instantiation. When false, one can manually establish the connection with the Meteor.ddp.connect method.</li>
<li>autoReconnect <strong>boolean</strong> [true] whether to try to reconnect to the server when the socket connection closes, unless the closing was initiated by a call to the disconnect method.</li>
<li>reconnectInterval <strong>number</strong> [10000] the interval in ms between reconnection attempts.</li>
</ul>
</li>
</ul>

<h2>
<a id="meteordisconnect" class="anchor" href="#meteordisconnect" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Meteor.disconnect()</h2>

<p>Disconnect from the DDP server.</p>

<h2>
<a id="meteor-methods" class="anchor" href="#meteor-methods" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Meteor methods</h2>

<ul>
<li>
<a href="http://docs.meteor.com/#/full/meteor_loginwithpassword">Meteor.loginWithPassword</a> (Please note that user is auto-resigned in - like in Meteor Web applications - thanks to React Native AsyncStorage.)</li>
<li><a href="http://docs.meteor.com/#/full/meteor_logout">Meteor.logout</a></li>
<li><a href="http://docs.meteor.com/#/full/meteor_call">Meteor.call</a></li>
</ul>

<h2>
<a id="meteoraccounts" class="anchor" href="#meteoraccounts" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Meteor.Accounts</h2>

<ul>
<li><a href="http://docs.meteor.com/#/full/accounts_createuser">Accounts.createUser</a></li>
</ul>

<h2>
<a id="meteorddp" class="anchor" href="#meteorddp" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Meteor.ddp</h2>

<p>Once connected to the ddp server, you can access every method available in <a href="https://github.com/mondora/ddp.js/">ddp.js</a>.</p>

<ul>
<li>Meteor.ddp.on('connected')</li>
<li>Meteor.ddp.on('added')</li>
<li>Meteor.ddp.on('changed')</li>
<li>...</li>
</ul>

<h1>
<a id="todo" class="anchor" href="#todo" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>TODO</h1>

<ul>
<li>[ ] <a href="https://github.com/inProgress-team/react-native-meteor/issues/18">Helper for Meteor-CollectionFS</a>
</li>
<li>[ ] <a href="https://github.com/inProgress-team/react-native-meteor/issues/16">Connection status unreliable</a>
</li>
</ul>

<p>Pull Requests are welcome ! :)</p>
      </section>
    </div>

    
  </body>
</html>
